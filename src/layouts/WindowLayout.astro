---
import TopBar from "../components/TopBar.astro";
const { title = "Portafolio" } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
  </head>

  <body>
    <main class="wrap">
      <section class="window">
        <TopBar />
        <div class="content">
          <slot />
        </div>
      </section>
    </main>
  </body>
</html>

<style>

    :global(*, *::before, *::after){
        box-sizing: border-box;
    }
    :global(body){
        margin:0;
        background: radial-gradient(1200px 700px at 30% 10%, #121225 0%, #050507 55%, #020203 100%);
        color:#eaeaea;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        overflow: hidden;
    }

    .wrap{
        min-height:100vh;
        display:grid;
        place-items:center;
        padding:24px;
    }

    .window{
        width:min(1120px, 100%);
        height:min(740px, calc(100vh - 48px));
        border:1px solid #2a2a2a;
        border-radius:16px;
        overflow:hidden;
        background: linear-gradient(180deg, #0e0e12, #07070a);
        box-shadow: 0 18px 60px rgba(0,0,0,.55);

        /* Animaci√≥n de entrada: abre del centro hacia afuera */
        animation: openFromCenter 520ms cubic-bezier(.2,.85,.2,1) both;
        transform-origin: center;
    }

    .content{
        height: calc(100% - 56px);
        padding:16px;
        display:flex;
        flex-direction:column;
        min-height:0;
        overflow: auto;
    }
    
    @keyframes openFromCenter{
        0%{
        opacity:0;
        transform: scale(.92);
        clip-path: inset(45% 45% 45% 45% round 16px);
        filter: blur(6px);
        }
        100%{
        opacity:1;
        transform: scale(1);
        clip-path: inset(0 0 0 0 round 16px);
        filter: blur(0);
        }
    }

    @media (prefers-reduced-motion: reduce){
        .window{ animation:none; }
    }
    :global(body){
  margin:0;
  overflow:hidden;
  position:relative;
}

/* Glow suave */
:global(body)::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;

  background:
    radial-gradient(900px 600px at 20% 15%, rgba(124,58,237,.22), transparent 60%),
    radial-gradient(900px 600px at 75% 30%, rgba(124,58,237,.14), transparent 62%),
    radial-gradient(700px 520px at 50% 85%, rgba(124,58,237,.10), transparent 60%),
    linear-gradient(180deg, #06060a, #020205);

  animation: hudGlow 10s ease-in-out infinite alternate;
}

:global(body)::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
  opacity:.22;
  mix-blend-mode: screen;

  background:
    linear-gradient(to right, rgba(124,58,237,.10) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(124,58,237,.08) 1px, transparent 1px),

    radial-gradient(circle at 10% 20%, rgba(124,58,237,.55) 1px, transparent 1.2px),
    radial-gradient(circle at 30% 80%, rgba(124,58,237,.45) 1px, transparent 1.2px),
    radial-gradient(circle at 70% 30%, rgba(124,58,237,.50) 1px, transparent 1.2px),
    radial-gradient(circle at 85% 70%, rgba(124,58,237,.40) 1px, transparent 1.2px),

    radial-gradient(circle at 15% 60%, rgba(124,58,237,.25) 1px, transparent 1.2px),
    radial-gradient(circle at 55% 15%, rgba(124,58,237,.22) 1px, transparent 1.2px),
    radial-gradient(circle at 60% 85%, rgba(124,58,237,.20) 1px, transparent 1.2px),
    radial-gradient(circle at 92% 40%, rgba(124,58,237,.18) 1px, transparent 1.2px);

  background-size:
    64px 64px,
    64px 64px,

    320px 320px,
    360px 360px,
    420px 420px,
    480px 480px,

    560px 560px,
    620px 620px,
    700px 700px,
    760px 760px;

  animation: hudGrid 14s linear infinite, hudParticles 18s linear infinite;
}

.window{ position:relative; z-index:1; }

@keyframes hudGlow{
  0%   { filter: hue-rotate(0deg); transform: scale(1); }
  100% { filter: hue-rotate(6deg); transform: scale(1.02); }
}

@keyframes hudGrid{
  from { background-position: 0 0, 0 0, 0 0,0 0,0 0,0 0, 0 0,0 0,0 0,0 0; }
  to   { background-position: 64px 32px, 32px 64px, 0 0,0 0,0 0,0 0, 0 0,0 0,0 0,0 0; }
}

@keyframes hudParticles{
  from { background-position: 0 0,0 0, 0 0,0 0,0 0,0 0, 0 0,0 0,0 0,0 0; }
  to   { background-position: 0 0,0 0, 160px 240px, -180px 220px, 210px -180px, -260px -210px,
                       300px 160px, -320px 180px, 260px -280px, -240px -260px; }
}

@media (prefers-reduced-motion: reduce){
  :global(body)::before,
  :global(body)::after{ animation:none; }
}

</style>
